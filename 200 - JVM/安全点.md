---
aliases: [Safepoint]
---

## 为什么需要安全点
导致 [[OopMap]] 内容变化^[引用关系变化]的指令非常多。如果为每一条指令都生成对应的 [[OopMap]] 将会需要大量额外的内存。

## 什么是安全点
[[HotSpot 虚拟机]] 只在特定的位置记录下栈里和寄存器哪些位置是引用，这些位置被成为安全点。用户程序必须执行到达[[安全点]]后才能够暂停进行[[垃圾回收]]等操作。

## 安全点的选定
安全点的选定不能太少，也不能太频繁。安全点位置的选取基本上以“是否具有让程序长时间执行的特征”为标准。